#==========================================================================
# Topic : Dataframe in R (Basic)
# Date : 2019. 03. 10
# Author : Junmo Nam
#==========================================================================


#==========================================================================
# Claiming dataframe in R 
#==========================================================================

?data.frame
df = data.frame(a = 1:10, b = c('a','b','c',rep('d',7)));df

#==========================================================================
# Indexing row and column in dataframe 
#==========================================================================

#indexing by number
df
df[1,]
df[,1]
df[1,1]

#column can be called by its name
df$a
df$b

#==========================================================================
# Attributes in dataframe
#==========================================================================

attributes(df)

colnames(df)
names(df)
class(df)
rownames(df)
df[,'a']
df['1',]

#revising rownames
rownames(df) = paste0('a',1:10)
rownames(df)
df['a1',]

#==========================================================================
# Adding column and row 
#==========================================================================

cbind(df,data.frame(c = 1:10))
cbind(df,1:10)
cbind(df,c = 1:10)

rbind(df,data.frame(a = 5,b = 7))

rbind(df,data.frame(a = 5,b = 'a'))

#==========================================================================
# Searching value in dataframe
#==========================================================================

df[which(df$a==4),] #indexing using which
dplyr::filter(df,a==4) #dplyr

#advanced
require(dplyr)
df[which(df$a==4),'b']
filter(df,a==4) %>% select(b)
filter(df,a==4) %>% select(a)

#==========================================================================
# Adding new variable
#==========================================================================

df$c = seq(2,20,2) #seq = sequence
df
mutate(df,c = seq(3,30,3))

#==========================================================================
# Re-ordering row
#==========================================================================

df[order(df$a,decreasing = T),]
arrange(df,desc(a))
?desc

#strings also work
arrange(df,desc(b))

#==========================================================================
# Reporting summary 
#==========================================================================

summary(df)
str(df)


